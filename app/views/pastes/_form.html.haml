= form_for @paste, :html => { :class => 'form-inline' } do |f|
  .row
    .span4
      .control-group
        = f.label :filename, :class => 'control-label' 
        .controls
          = f.text_field :filename, :class => 'text_field', :placeholder=>"File name"
      .control-group
        = f.label :nick, :class => 'control-label'
        .controls
          = f.text_field :nick, :class => 'text_field', :placeholder=>"Nick"
      .control-group
        = f.label :title, :class => 'control-label'
        .controls
          = f.text_field :title, :class => 'text_field', :placeholder=>"Title"
      .control-group
        = f.label :encoding, "Syntax", :class => 'control-label'
        .controls
          = f.select :encoding,Paste::LANG.keys, :class => 'text_field'
    .span8
      .control-group
        = f.label :body,"Text to paste", :class => 'control-label'
        .controls
          .editor.textarea#editor
          = f.text_area :body, :class => '', :placeholder => "Your code", rows: 2, cols: 2
  .form-actions
    = f.submit "Save", :class => 'btn btn-primary'

:javascript
  $(document).ready(function(){
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/java");

    var textarea = $('textarea[name="paste[body]"]').hide();

    editor.getSession().setValue(textarea.val());
    editor.getSession().on('change', function(){
      textarea.val(editor.getSession().getValue());
    });
  });

:css
  #editor{
    width: 100%;
    height: 400px;
  }